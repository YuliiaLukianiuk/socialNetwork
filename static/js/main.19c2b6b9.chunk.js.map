{"version":3,"sources":["redux/dialogs-reducer.js","components/Users/users.module.css","api/api.js","components/Navbar/Navbar.module.css","components/Navbar/Navbar.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Pagination/Paginator.jsx","img/user.png","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","redux/app-reducer.js","redux/redux-store.js","App.js","index.js","components/common/FormsControl.js","img/preloader.svg","components/common/Preloader/preloader.js","components/common/Preloader/FormsControl.module.css","utils/validate.js","components/Header/Header.module.css","components/common/Pagination/Pagination.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogData","id","name","messagesData","message","sendMessageActionCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","post","unfollow","delete","getProfile","userId","console","warn","profileApi","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Navbar","className","classes","nav","item","to","activeClassName","active","Header","props","header","src","loginBlock","isAuth","onClick","SET_USER_DATA","setAuthUserData","getAuthUserData","dispatch","a","resultCode","authReducer","HeaderContainer","this","React","Component","connect","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","CreateField","required","Input","style","formSummaryError","messages","length","stopSubmit","_error","log","formData","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","Pagination","totalItemsCount","onPageChanged","portionSize","pageCounter","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","p","styles","selectedPage","pageNumber","cursor","marginTop","padding","e","User","user","photos","small","usersPhoto","userPhoto","disabled","some","Users","textOverflow","overflow","height","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","compose","bind","page","totalCount","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","messagePage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","ProfileContainer","App","initializeApp","Suspense","fallback","path","render","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById","FromControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","placeholder","validate","component","text","Preloader","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USERS_PROFILE","SET_STATUS","SET_POST_DELETE","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUsersProfile","newPost","newPostNext","postId"],"mappings":"6KAAMA,EAAe,eACjBC,EAAe,CACfC,WAAY,CACR,CAACC,GAAI,EAAGC,KAAM,UACd,CAACD,GAAI,EAAGC,KAAM,QACd,CAACD,GAAI,EAAGC,KAAM,SACd,CAACD,GAAI,EAAGC,KAAM,SACd,CAACD,GAAI,EAAGC,KAAM,UACd,CAACD,GAAI,EAAGC,KAAM,WAElBC,aAAc,CACV,CAACF,GAAI,EAAGG,QAAS,MACjB,CAACH,GAAI,EAAGG,QAAS,gBACjB,CAACH,GAAI,EAAGG,QAAS,YACjB,CAACH,GAAI,EAAGG,QAAS,MACjB,CAACH,GAAI,EAAGG,QAAS,gBACjB,CAACH,GAAI,EAAGG,QAAS,QAqBZC,EAA2B,SAACC,GAAD,MAAqB,CACzDC,KAAMT,EACLQ,mBAIUE,IAtBQ,WAAmC,IAAlCC,EAAiC,uDAAzBV,EAAcW,EAAW,uCAErD,OAAQA,EAAOH,MAGX,KAAKT,EACD,IAAIa,EAAOD,EAAOJ,eAClB,OAAO,2BACAG,GADP,IAEIN,aAAa,GAAD,mBAAMM,EAAMN,cAAZ,CAA0B,CAACF,GAAI,EAAGG,QAASO,OAE/D,QACI,OAAOF,K,oBChCnBG,EAAOC,QAAU,CAAC,UAAY,yBAAyB,aAAe,4BAA4B,WAAa,4B,gCCD/G,mHAGMC,EAHN,OAGiBC,EAAMC,OAAO,CAC7BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACR,UAAW,0CAIAC,EAAW,CACvBC,SADuB,WACmB,IAAjCC,EAAgC,uDAAlB,EAAGC,EAAe,uDAAJ,GACpC,OAAOT,EAASU,IAAT,qBAA2BF,EAA3B,kBAAgDC,IACrDE,MAAK,SAAAC,GACL,OAAOA,EAASC,SAGnBC,OAPuB,SAOhB3B,GACN,OAAOa,EAASe,KAAT,iBAAwB5B,KAGhC6B,SAXuB,SAWd7B,GACR,OAAOa,EAASiB,OAAT,iBAA0B9B,KAElC+B,WAduB,SAcZC,GAEV,OADAC,QAAQC,KAAK,4CACNC,EAAWJ,WAAWC,KAIlBG,EAAa,CACzBJ,WADyB,SACdC,GACX,OAAOnB,EAASU,IAAI,WAAaS,IAEjCI,UAJyB,SAIfJ,GACT,OAAOnB,EAASU,IAAI,kBAAoBS,IAEzCK,aAPyB,SAOZC,GACZ,OAAOzB,EAAS0B,IAAT,kBAAgC,CAACD,OAAOA,MAGpCE,EAAU,CACrBC,GADqB,WAEpB,OAAO5B,EAASU,IAAT,YAERmB,MAJqB,SAIfC,EAAOC,GAA6B,IAAnBC,EAAkB,wDACxC,OAAOhC,EAASe,KAAT,aAA4B,CAACe,QAAOC,WAAUC,gBAEvDC,OAPsB,WAQrB,OAAOjC,EAASiB,OAAT,iB,mBCjDTnB,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,OAAS,yB,2MC2BlEmC,EAzBA,WACb,OACE,sBAAKC,UAAWC,IAAQC,IAAxB,UACE,qBAAKF,UAAWC,IAAQE,KAAxB,SACE,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAQK,OAAhD,uBAEF,qBAAKN,UAAWC,IAAQE,KAAxB,SACE,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAQK,OAAhD,wBAEF,qBAAKN,UAAWC,IAAQE,KAAxB,SACE,cAAC,IAAD,CAASC,GAAG,QAAQC,gBAAiBJ,IAAQK,OAA7C,oBAEF,qBAAKN,UAAWC,IAAQE,KAAxB,SACE,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAQK,OAA9C,qBAEF,qBAAKN,UAAWC,IAAQE,KAAxB,SACE,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBJ,IAAQK,OAAhD,wBAEA,qBAAKN,UAAWC,IAAQE,KAAxB,SACI,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBJ,IAAQK,OAA9C,yB,gCCPGC,EAXA,SAACC,GACd,OAAO,yBAAQR,UAAWC,IAAQQ,OAA3B,UACL,qBAAKC,IAAM,6EACT,qBAAKV,UAAWC,IAAQU,WAAxB,SACGH,EAAMI,OACC,gCAAMJ,EAAMd,MAAZ,MAAqB,wBAAQmB,QAASL,EAAMV,OAAvB,qBAArB,OACA,cAAC,IAAD,CAASM,GAAI,SAAb,yB,iDCPVU,EAAgB,sCAElBhE,EAAe,CAClBkC,OAAQ,KACRW,MAAO,KACPD,MAAO,KACPkB,QAAQ,GAiBIG,EAAkB,SAAC/B,EAAQW,EAAOD,EAAOkB,GAAvB,MAAmC,CACjEtD,KAAMwD,EACNpC,KAAM,CAACM,SAAQW,QAAOD,QAAOkB,YAGjBI,EAAkB,yDAAM,WAAOC,GAAP,uBAAAC,EAAA,sEACf1B,IAAQC,KADO,OAEH,KAD7BhB,EADgC,QAEvBC,KAAKyC,aAAmB,EACX1C,EAASC,KAAKA,KAAlC1B,EAD8B,EAC9BA,GAAI0C,EAD0B,EAC1BA,MAAOC,EADmB,EACnBA,MAChBsB,EAASF,EAAgB/D,EAAI2C,EAAOD,GAAO,KAJR,2CAAN,uDA4BhB0B,EA/CK,WAAmC,IAAlC5D,EAAiC,uDAAzBV,EAAcW,EAAW,uCAErD,OAAQA,EAAOH,MAEd,KAAKwD,EACJ,OAAO,2BACHtD,GACAC,EAAOiB,MAEZ,QACC,OAAOlB,ICfJ6D,E,4JAGJ,WACE,OAAO,cAAC,EAAD,eAAYC,KAAKd,Y,GAJEe,IAAMC,WAWrBC,eAJS,SAACjE,GAAD,MAAY,CAChCoD,OAAQpD,EAAMkE,KAAKd,OACnBlB,MAAOlC,EAAMkE,KAAKhC,SAEkB,CAAEI,ODkCpB,yDAAM,WAAOmB,GAAP,SAAAC,EAAA,sEACN1B,IAAQM,SADF,OAEM,IAFN,OAEdpB,KAAKyC,YACjBF,EAASF,EAAgB,KAAM,KAAM,MAAM,IAHjB,2CAAN,wDClCPU,CAAqCJ,G,0CCQ9CM,EAAiBC,YAAU,CAChCC,KAAM,SADgBD,EAjBL,SAAC,GAA2B,IAA1BE,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,MACjC,OAAO,uBAAMC,SAAUF,EAAhB,UAELG,YAAY,QAAS,QAAS,CAACC,KAAWC,KAC1CF,YAAY,WAAY,WAAY,CAACC,KAAWC,IAAO,CAAC7E,KAAM,aAC9D2E,YAAY,KAAM,aAAc,CAACC,KAAWC,IAAO,CAAC7E,KAAM,YAAa,eAGvEyE,GAAS,qBAAK/B,UAAWoC,IAAMC,iBAAtB,SACRN,IAGF,8BACC,mDAyBYN,eAJS,SAACjE,GAAD,MAAY,CACnCoD,OAAQpD,EAAMkE,KAAKd,UAGoB,CAAClB,MFRpB,SAACC,EAAOC,EAAUC,GAAlB,8CAAiC,WAAOoB,GAAP,iBAAAC,EAAA,sEAGhC1B,IAAQE,MAAMC,EAAOC,EAAUC,GAHC,OAKpB,KAF7BpB,EAHiD,QAKxCC,KAAKyC,WACjBF,EAASD,MAEL7D,EAAUsB,EAASC,KAAK4D,SAASC,OAAS,EAAI9D,EAASC,KAAK4D,SAAS,GAAK,aAC9ErB,EAASuB,YAAW,QAAS,CAACC,OAAQtF,MATc,2CAAjC,wDEQNsE,EAjBD,SAACjB,GACdvB,QAAQyD,IAAIlC,GAIZ,OAAIA,EAAMI,OACF,cAAC,IAAD,CAAUR,GAAI,aAEf,gCACN,uCACA,cAACuB,EAAD,CAAgBK,SARA,SAACW,GACjBnC,EAAMd,MAAMiD,EAAShD,MAAOgD,EAAS/C,SAAU+C,EAAS9C,qB,QCjC7C+C,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC/D,OAAOH,EAAMI,KAAI,SAAAC,GAChB,OAAIA,EAAEH,KAAiBD,EACf,2BAAII,GAAMF,GAEXE,MCFHC,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAAsB,sBAGxB3G,EAAe,CAClB4G,MAAO,GACPpF,SAAU,GACVqF,gBAAiB,EACjBtF,YAAa,EACbuF,YAAY,EACZC,oBAAqB,IA+CTC,EAAgB,SAAC9E,GAAD,MAAa,CACzC1B,KAAM6F,EACNnE,WAEY+E,EAAkB,SAAC/E,GAAD,MAAa,CAC3C1B,KAAM8F,EACNpE,WAMYgF,EAAiB,SAAC3F,GAAD,MAAkB,CAC/Cf,KAAMgG,EACNjF,gBAMY4F,GAAmB,SAACL,GAAD,MAAiB,CAChDtG,KAAMkG,EACNI,eAEYM,GAA0B,SAACN,EAAY5E,GAAb,MAAyB,CAC/D1B,KAAMmG,EACNG,aACA5E,WAgBKmF,GAAkB,uCAAG,WAAOlD,EAAUjE,EAAIoH,EAAWC,GAAhC,SAAAnD,EAAA,6DAC1BD,EAASiD,IAAwB,EAAMlH,IADb,SAGHoH,EAAUpH,GAHP,OAIO,IAJP,OAIb0B,KAAKyC,YACjBF,EAASoD,EAAcrH,IAExBiE,EAASiD,IAAwB,EAAOlH,IAPd,2CAAH,4DA6BTsH,GAlHM,WAAmC,IAAlC9G,EAAiC,uDAAzBV,EAAcW,EAAW,uCAEtD,OAAQA,EAAOH,MAEd,KAAK6F,EACJ,OAAO,2BACH3F,GADJ,IAECkG,MAAOd,EAAoBpF,EAAMkG,MAAMjG,EAAOuB,OAAQ,KAAM,CAACuF,UAAU,MAEzE,KAAKnB,EACJ,OAAO,2BACH5F,GADJ,IAECkG,MAAOd,EAAoBpF,EAAMkG,MAAMjG,EAAOuB,OAAQ,KAAM,CAACuF,UAAU,MAGzE,KAAKlB,EACJ,OAAO,2BAAI7F,GAAX,IAAkBkG,MAAM,YAAKjG,EAAOiG,SAErC,KAAKJ,EACJ,OAAO,2BAAI9F,GAAX,IAAkBa,YAAaZ,EAAOY,cAEvC,KAAKkF,EACJ,OAAO,2BAAI/F,GAAX,IAAkBmG,gBAAiBlG,EAAO+G,QAE3C,KAAKhB,EACJ,OAAO,2BAAIhG,GAAX,IAAkBoG,WAAYnG,EAAOmG,aAEtC,KAAKH,EACJ,OAAO,2BACHjG,GADJ,IAECqG,oBAAqBpG,EAAOmG,WAAP,sBACdpG,EAAMqG,qBADQ,CACapG,EAAOuB,SACtCxB,EAAMqG,oBAAoBY,QAAO,SAAAzH,GAAE,OAAIA,GAAMS,EAAOuB,YAKzD,QACC,OAAOxB,I,uCClBKkH,GApCE,SAAC,GAGjB,IAHgG,IAA9EC,EAA6E,EAA7EA,gBAAiBrG,EAA4D,EAA5DA,SAAUD,EAAkD,EAAlDA,YAAauG,EAAqC,EAArCA,cAAqC,IAAtBC,mBAAsB,MAAR,GAAQ,EAC3FC,EAAcC,KAAKC,KAAKL,EAAkBrG,GAC1C2G,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAaI,IACjCD,EAAME,KAAKD,GAGZ,IAAIE,EAAeL,KAAKC,KAAKF,EAAcD,GAPoD,EAQvDQ,mBAAS,GAR8C,oBAQ1FC,EAR0F,KAQ3EC,EAR2E,KAS3FC,GAAyBF,EAAgB,GAAKT,EAAc,EAC5DY,EAA0BH,EAAgBT,EAG9C,OACC,gCACES,EAAgB,GACjB,wBAAQzE,QAAS,WAChB0E,EAAiBD,EAAgB,IADlC,kBAICL,EACCR,QAAO,SAAAiB,GAAC,OAAIA,GAAKF,GAAyBE,GAAKD,KAC/CxC,KAAI,SAAAyC,GACJ,OAAO,sBAAM1F,UAAW3B,IAAgBqH,EAAIC,KAAOC,aAAeD,KAAOE,WAC5DzD,MAAO,CAAC0D,OAAQ,UAAWC,UAAW,GAAIC,QAAS,IACnDnF,QAAS,SAACoF,GACTrB,EAAcc,IAHrB,SAIUA,OAElBN,EAAeE,GAChB,wBAAQzE,QAAS,WAChB0E,EAAiBD,EAAgB,IADlC,sB,qBCrCY,OAA0B,iCCgD1BY,GAvCJ,SAAC,GAAkD,IAAjDC,EAAgD,EAAhDA,KAAKtC,EAA2C,EAA3CA,oBAAqBhF,EAAsB,EAAtBA,SAAUF,EAAY,EAAZA,OAE3C,OACC,gCACS,iCACE,8BACI,cAAC,IAAD,CAASyB,GAAI,YAAc+F,EAAKnJ,GAAhC,SACA,qBAAK0D,IAA0B,MAArByF,EAAKC,OAAOC,MAAgBF,EAAKC,OAAOC,MAAQC,GACrDtG,UAAW2F,KAAOY,gBAG3B,8BACGJ,EAAK5B,SACH,wBAAQiC,SAAU3C,EAChB4C,MAAK,SAAAzJ,GAAE,OAAIA,IAAOmJ,EAAKnJ,MACjB6D,QAAS,WAAOhC,EAASsH,EAAKnJ,KAFtC,uBAIA,wBAAQwJ,SAAU3C,EAChB4C,MAAK,SAAAzJ,GAAE,OAAIA,IAAOmJ,EAAKnJ,MAAK6D,QAAS,WAAOlC,EAAOwH,EAAKnJ,KAD1D,yBAMf,iCACU,iCACc,gCAAMmJ,EAAKlJ,KAAX,OACA,8BAAMkJ,EAAK7G,YAEzB,iCACc,gCAAM,mBAAN,OACA,gCAAM,gBAAN,iBCRjBoH,GA1BH,SAAC,GAA8E,IAA7ErI,EAA4E,EAA5EA,YAAauG,EAA+D,EAA/DA,cAAejB,EAAgD,EAAhDA,gBAAiBrF,EAA+B,EAA/BA,SAAUoF,EAAqB,EAArBA,MAAUlD,EAAW,qFAEzF,OACC,gCACC,qBAAK4B,MAAO,CAACuE,aAAc,WAAYC,SAAU,SAAUC,OAAQ,IAAnE,SAEC,cAAC,GAAD,CAAYxI,YAAaA,EAAauG,cAAeA,EACzCD,gBAAiBhB,EAAiBrF,SAAUA,MAMxDoF,EAAMT,KAAI,SAAAC,GAAC,OAAI,cAAC,GAAD,CAAMiD,KAAMjD,EACNW,oBAAqBrD,EAAMqD,oBAE3BhF,SAAU2B,EAAM3B,SAChBF,OAAQ6B,EAAM7B,QAFTuE,EAAElG,W,iBCpBnBoB,GAAW,SAACZ,GACxB,OAAOA,EAAMsJ,UAAUpD,OAEXqD,GAAc,SAACvJ,GAC3B,OAAOA,EAAMsJ,UAAUxI,UAEX0I,GAAqB,SAACxJ,GAClC,OAAOA,EAAMsJ,UAAUnD,iBAEXsD,GAAiB,SAACzJ,GAC9B,OAAOA,EAAMsJ,UAAUzI,aAGX6I,GAAgB,SAAC1J,GAC7B,OAAOA,EAAMsJ,UAAUlD,YAEXuD,GAAyB,SAAC3J,GACtC,OAAOA,EAAMsJ,UAAUjD,qBCQjBuD,G,4MAOHxC,cAAgB,SAACiB,GAAgB,IAC1BvH,EAAY,EAAKkC,MAAjBlC,SACL,EAAKkC,MAAMpC,SAASyH,EAAYvH,I,uDAPlC,WAAqB,IAAD,EACWgD,KAAKd,MAA7BnC,EADa,EACbA,YAAYC,EADC,EACDA,SACjBgD,KAAKd,MAAMpC,SAASC,EAAaC,K,oBASnC,WAEI,OAAO,qCACFgD,KAAKd,MAAMoD,WAAa,cAAC,KAAD,IAAc,KAEvC,cAAC,GAAD,CAAOD,gBAAiBrC,KAAKd,MAAMmD,gBAC5BrF,SAAUgD,KAAKd,MAAMlC,SACrBD,YAAaiD,KAAKd,MAAMnC,YACxBuG,cAAetD,KAAKsD,cACpBlB,MAAOpC,KAAKd,MAAMkD,MAClB/E,OAAQ2C,KAAKd,MAAM7B,OACnBE,SAAUyC,KAAKd,MAAM3B,SACrBgF,oBAAqBvC,KAAKd,MAAMqD,6B,GAzBrBtC,IAAMC,WAqDpB6F,gBACd5F,aAZoB,SAACjE,GACrB,MAAO,CACLkG,MAAOtF,GAASZ,GAChBc,SAAUyI,GAAYvJ,GACtBmG,gBAAiBqD,GAAmBxJ,GACpCa,YAAa4I,GAAezJ,GAC5BoG,WAAYsD,GAAc1J,GAC1BqG,oBAAqBsD,GAAuB3J,MAKrB,CACzBmB,ONsCoB,SAAC3B,GACtB,8CAAO,WAAOiE,GAAP,eAAAC,EAAA,sDACFkD,EAAYjG,IAASQ,OAAO2I,KAAKnJ,KAErCgG,GAAmBlD,EAAUjE,EAAIoH,EADbN,GAFd,2CAAP,uDMtCCjF,SN8CsB,SAAC7B,GACxB,8CAAO,WAAOiE,GAAP,eAAAC,EAAA,sDACFkD,EAAYjG,IAASU,SAASyI,KAAKnJ,KAEvCgG,GAAmBlD,EAAUjE,EAAIoH,EADbL,GAFd,2CAAP,uDM9CCC,iBACAE,2BAEA9F,SNUkC,SAACmJ,EAAMjJ,GAC1C,8CAAO,WAAO2C,GAAP,eAAAC,EAAA,6DACND,EAASgD,IAAiB,IAC1BhD,EAAS+C,EAAeuD,IAFlB,SAIapJ,IAASC,SAASmJ,EAAMjJ,GAJrC,OAIAI,EAJA,OAMNuC,EAASgD,IAAiB,IAC1BhD,GA9BuByC,EA8BLhF,EAAKmE,MA9BW,CACnCvF,KAAM+F,EACNK,WA6BCzC,GAvBiC0C,EAuBLjF,EAAK8I,WAvBqB,CACvDlK,KAAMiG,EACNiB,MAAOb,KAaA,iCAf0B,IAACA,EARVD,IAuBjB,OAAP,yDMlBe2D,CAQdD,ICnFKK,GAAsB,uBAEzB3K,GAAe,CACjB4K,aAAa,GA0BAC,GAvBI,WAAmC,IAAlCnK,EAAiC,uDAAzBV,GAAcW,EAAW,uCACjD,OAAQA,EAAOH,MACb,KAAKmK,GACC,OAAO,2BACAjK,GADP,IAEIkK,aAAa,IAErB,QACI,OAAOlK,I,uCCRfoK,GAAWC,aAAgB,CAC7BC,YAAaC,KACbC,YAAazK,KAEbuJ,UAAWxC,GACX5C,KAAMN,EACNS,KAAMoG,KACNC,IAAKP,KAKDQ,GAAmBC,OAAOC,sCAAwChB,KAMzDiB,GAJDC,aAAYX,GAAUO,GAClCK,aAAgBC,QCLZC,GAAmBnH,IAAMoH,MAAK,kBAAM,iCACpCC,GAAmBrH,IAAMoH,MAAK,kBAAM,iCACpCE,G,uKACL,WACCvH,KAAKd,MAAMsI,kB,oBAGZ,WACC,OAAKxH,KAAKd,MAAMkH,YAMf,sBAAK1H,UAAU,cAAf,UACC,cAAC,EAAD,IACA,cAAC,EAAD,IACA,sBAAKA,UAAU,sBAAf,UAEC,eAAC,IAAM+I,SAAP,CAAgBC,SAAU,cAAC,KAAD,IAA1B,UACC,cAAC,IAAD,CAAOC,KAAK,WAAWC,OAAQ,kBAAM,cAACR,GAAD,OACpC,cAAC,IAAD,CAAOO,KAAK,oBAAoBC,OAAQ,kBAAM,cAACN,GAAD,UAIhD,cAAC,IAAD,CAAOK,KAAK,SACLC,OAAQ,kBAAM,cAAC,GAAD,OACrB,cAAC,IAAD,CAAOD,KAAK,SACLC,OAAQ,kBAAM,cAAC,EAAD,aAnBhB,cAAC,KAAD,Q,GAPQ3H,IAAMC,WA0CpB2H,GAAgB9B,aACnB+B,IACA3H,aALuB,SAACjE,GAAD,MAAY,CACnCkK,YAAalK,EAAM0K,IAAIR,eAIE,CAACoB,cFxCE,kBAAM,SAAC7H,GAChC,IAAIoI,EAAUpI,EAASD,KACvBsI,QAAQC,IAAI,CAACF,IACV7K,MAAK,WACLyC,EARkC,CACrC3D,KAAMmK,YEyCUJ,CAEwBwB,IAS7BW,GAPM,SAAChJ,GACtB,OAAO,cAAC,IAAD,UACL,cAAC,IAAD,CAAU8H,MAAOA,GAAjB,SACC,cAACa,GAAD,SC9DHM,IAASP,OACP,cAAC,GAAD,IACEQ,SAASC,eAAe,U,gMCLtBC,EAAa,SAAC,GAA8C,EAA7CC,MAA8C,IAAD,IAArCC,KAAOC,EAA8B,EAA9BA,QAAShI,EAAqB,EAArBA,MAAOiI,EAAc,EAAdA,SAC7CC,EAAWF,GAAWhI,EAC5B,OACC,sBAAK/B,UAAW2F,IAAOuE,YAAc,KAAOD,EAAWtE,IAAO5D,MAAQ,IAAtE,UACC,8BACEiI,IAEAC,GAAY,+BAAOlI,QAMXoI,EAAW,SAAC3J,GAAW,IAC5BqJ,EAAkCrJ,EAAlCqJ,MAAqBO,GAAa5J,EAA3BsJ,KAA2BtJ,EAAtB6J,MADe,YACO7J,EADP,2BAElC,OACC,cAACoJ,EAAD,2BAAiBpJ,GAAjB,aAAwB,oDAAcqJ,GAAWO,QAItCjI,EAAQ,SAAC3B,GAAW,IACzBqJ,EAAkCrJ,EAAlCqJ,MAAqBO,GAAa5J,EAA3BsJ,KAA2BtJ,EAAtB6J,MADY,YACU7J,EADV,2BAE/B,OACC,cAACoJ,EAAD,2BAAiBpJ,GAAjB,aAAwB,iDAAWqJ,GAAWO,QAGnCnI,EAAc,SAC1BqI,EACArN,EACAsN,EACAC,GAJ0B,IAK1BhK,EAL0B,uDAKlB,GACRiK,EAN0B,uDAMnB,GANmB,OAQ1B,gCACA,cAAC,IAAD,aAAOH,YAAaA,EACbrN,KAAMA,EACNsN,SAAUA,EACVC,UAAWA,GACPhK,IALX,IAMIiK,O,gCC7CU,UAA0B,sC,cCQ1BC,IALC,SAAClK,GACb,OACI,qBAAKE,IAAKiK,M,mBCJlBhN,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,yC,gCCCzH,oEAAO,IAAMsE,EAAW,SAAA0I,GACvB,IAAGA,EAGH,MAAO,qBAGKC,EAAoB,SAACC,GAAD,OAAe,SAAAF,GAC/C,GAAIA,EAAMrI,OAASuI,EAClB,MAAM,iBAAN,OAAwBA,EAAxB,e,mBCVFnN,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,mBCA/DD,EAAOC,QAAU,CAAC,aAAe,iCAAiC,WAAa,iC,4NCCzEmN,EAAW,WACXC,EAAoB,oBACpBC,EAAa,aACbC,EAAkB,kBAGpBpO,EAAe,CAClBqO,MAAO,CACN,CAACnO,GAAI,EAAGG,QAAS,mBAAoBiO,WAAY,MACjD,CAACpO,GAAI,EAAGG,QAAS,qBAAsBiO,WAAY,MAGpDC,QAAS,KACT/L,OAAQ,IAyCIgM,EAAuB,SAACC,GAAD,MAAkB,CACrDjO,KAAMyN,EACNQ,gBAWYC,EAAY,SAAClM,GAAD,MAAa,CACrChC,KAAM2N,EACN3L,WAGYmM,EAAkB,SAACzM,GAAD,8CAAY,WAAOiC,GAAP,eAAAC,EAAA,sEACpB/C,IAASY,WAAWC,GADA,OACrCP,EADqC,OAExCwC,GAX6BoK,EAWJ5M,EAASC,KAXQ,CAC5CpB,KAAM0N,EACNK,aAO0C,iCATZ,IAACA,IASW,OAAZ,uDAKlBjM,EAAY,SAACJ,GAAD,8CAAY,WAAOiC,GAAP,eAAAC,EAAA,sEACd/B,IAAWC,UAAUJ,GADP,OAC/BP,EAD+B,OAElCwC,EAASuK,EAAU/M,EAASC,OAFM,2CAAZ,uDAKZW,EAAe,SAACC,GAAD,8CAAY,WAAO2B,GAAP,SAAAC,EAAA,sEACjB/B,IAAWE,aAAaC,GADP,OAEJ,IAFI,OAExBZ,KAAKyC,YACjBF,EAASuK,EAAUlM,IAHiB,2CAAZ,uDAMbyI,IAzEQ,WAAmC,IAAlCvK,EAAiC,uDAAzBV,EAAcW,EAAW,uCAExD,OAAQA,EAAOH,MACd,KAAKyN,EACJ,IAAIW,EAAU,CACb1O,GAAI,EACJG,QAASM,EAAO8N,YAChBH,WAAY,GAEb,OAAO,2BACH5N,GADJ,IAEC2N,MAAM,GAAD,mBAAM3N,EAAM2N,OAAZ,CAAmBO,IACxBC,YAAa,KAMf,KAAKX,EACJ,OAAO,2BACHxN,GADJ,IAEC6N,QAAS5N,EAAO4N,UAGlB,KAAKJ,EACJ,OAAO,2BACHzN,GADJ,IAEC8B,OAAQ7B,EAAO6B,SAGjB,KAAK4L,EACJ,OAAO,2BAAI1N,GAAX,IAAkB2N,MAAO3N,EAAM2N,MAAM1G,QAAO,SAAAiB,GAAC,OAAIA,EAAE1I,IAAMS,EAAOmO,YAEjE,QACC,OAAOpO,M","file":"static/js/main.19c2b6b9.chunk.js","sourcesContent":["const SEND_MESSAGE = \"SEND-MESSAGE\";\r\nlet initialState = {\r\n    dialogData: [\r\n        {id: 1, name: \"Yuliia\"},\r\n        {id: 2, name: \"Anna\"},\r\n        {id: 3, name: \"Sveta\"},\r\n        {id: 4, name: \"Sasha\"},\r\n        {id: 5, name: \"Victor\"},\r\n        {id: 6, name: \"Valera\"},\r\n    ],\r\n    messagesData: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"How are you?\"},\r\n        {id: 3, message: \"Hello!!!\"},\r\n        {id: 4, message: \"Hi\"},\r\n        {id: 5, message: \"How are you?\"},\r\n        {id: 6, message: \"yo\"},\r\n    ],\r\n\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, {id: 7, message: body}],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => ({\r\n    type: SEND_MESSAGE,\r\n     newMessageBody,\r\n});\r\n\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__3VAEM\",\"selectedPage\":\"users_selectedPage__16QLb\",\"pageNumber\":\"users_pageNumber__3VQtP\"};","import  axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t'API-KEY': '6e47cc31-4791-45a1-9bde-719317a38571'\r\n\t},\r\n\r\n});\r\nexport const usersAPI = {\r\n\tgetUsers(currentPage = 1, pageSize = 10) {\r\n\t\treturn instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data;\r\n\t\t\t});\r\n\t},\r\n\tfollow(id) {\r\n\t\treturn instance.post(`follow/${id}`\r\n\t\t)\r\n\t},\r\n\tunfollow(id) {\r\n\t\treturn instance.delete(`follow/${id}`)\r\n\t},\r\n\tgetProfile(userId) {\r\n\t\tconsole.warn('Obsolete method.Please profileApi object')\r\n\t\treturn profileApi.getProfile(userId)\r\n\t}\r\n}\r\n\r\nexport const profileApi = {\r\n\tgetProfile(userId) {\r\n\treturn instance.get(`profile/` + userId)\r\n \t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/` + userId)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status/`, {status:status});\r\n\t}\r\n}\r\nexport const authAPI = {\r\n\t\tme() {\r\n\t\t\treturn instance.get(`auth/me`);\r\n\t},\r\n\t\tlogin(email, password, rememberMe=false) {\r\n\t\t\treturn instance.post(`auth/login`, {email, password, rememberMe});\r\n\t\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`);\r\n\t}\r\n\r\n\r\n\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__JzKXi\",\"item\":\"Navbar_item__OH7lF\",\"active\":\"Navbar_active__jBKW_\"};","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport classes from \"./Navbar.module.css\";\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <div className={classes.item}>\r\n        <NavLink to='/profile' activeClassName={classes.active}>Profile</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to='/dialogs' activeClassName={classes.active}>Messages</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to='/news' activeClassName={classes.active}>News</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to='/music' activeClassName={classes.active}>Music</NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to='/setting' activeClassName={classes.active}>Settings</NavLink>\r\n      </div>\r\n        <div className={classes.item}>\r\n            <NavLink to='/users' activeClassName={classes.active}>Users</NavLink>\r\n        </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n  return <header className={classes.header}>\r\n    <img src = 'https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg' />\r\n      <div className={classes.loginBlock}>\r\n        {props.isAuth\r\n              ? <div>{props.login} - <button onClick={props.logout}>Log out</button> </div>\r\n              : <NavLink to={'/login'}>Login</NavLink>}\r\n      </div>\r\n  </header>\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-networks/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\r\n\t\tcase SET_USER_DATA:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.data,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n\ttype: SET_USER_DATA,\r\n\tdata: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tlet response = await authAPI.me();\r\n\tif (response.data.resultCode === 0) {\r\n\t\tlet {id, login, email} = response.data.data;\r\n\t\tdispatch(setAuthUserData(id, email, login, true));\r\n\t}\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n\r\n\r\n\tlet response = await authAPI.login(email, password, rememberMe)\r\n\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tlet message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some Error\"\r\n\t\tdispatch(stopSubmit(\"login\", {_error: message}));\r\n\t}\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlet response = await authAPI.logout()\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false));\r\n\t}\r\n\r\n}\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport { logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\n\r\nclass HeaderContainer extends React.Component{\r\n\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\nexport default connect(mapStateToProps, { logout}) (HeaderContainer);","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {CreateField, Input} from \"../common/FormsControl\";\r\nimport {required} from \"../../utils/validate\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"../common/Preloader/FormsControl.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n\treturn <form onSubmit={handleSubmit}>\r\n\r\n\t\t{CreateField(\"Email\", \"email\", [required], Input)}\r\n\t\t{CreateField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n\t\t{CreateField(null, \"rememberMe\", [required], Input, {type: \"checkbox\"}, \"remember me\")}\r\n\r\n\r\n\t\t{error && <div className={style.formSummaryError}>\r\n\t\t\t{error}\r\n\t\t</div>\r\n\t\t}\r\n\t\t<div>\r\n\t\t\t<button>LOGIN</button>\r\n\t\t</div>\r\n\t</form>\r\n}\r\nconst LoginReduxForm = reduxForm({\r\n\tform: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\tconsole.log(props)\r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe)\r\n\t}\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={\"/profile\"}></Redirect>\r\n\t}\r\n\treturn <div>\r\n\t\t<h1>LOGIN</h1>\r\n\t\t<LoginReduxForm onSubmit={onSubmit}/>\r\n\t</div>\r\n}\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map(u => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn {...u, ...newObjProps}\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING = \"TOGGLE_IS_FOLLOWING\";\r\n\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 20,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: true,\r\n\tfollowingInProgress: [],\r\n\r\n\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users,action.userId, \"id\", {followed: true})\r\n\t\t\t }\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users,action.userId, \"id\", {followed: false})\r\n\t\t\t}\r\n\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn {...state, users: [...action.users]}\r\n\t\t}\r\n\t\tcase SET_CURRENT_PAGE: {\r\n\t\t\treturn {...state, currentPage: action.currentPage}\r\n\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\treturn {...state, totalUsersCount: action.count}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\treturn {...state, isFetching: action.isFetching}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching\r\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t: state.followingInProgress.filter(id => id != action.userId)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const followSuccess = (userId) => ({\r\n\ttype: FOLLOW,\r\n\tuserId\r\n});\r\nexport const unfollowSuccess = (userId) => ({\r\n\ttype: UNFOLLOW,\r\n\tuserId\r\n});\r\nexport const setUsers = (users) => ({\r\n\ttype: SET_USERS,\r\n\tusers,\r\n});\r\nexport const setCurrentPage = (currentPage) => ({\r\n\ttype: SET_CURRENT_PAGE,\r\n\tcurrentPage,\r\n});\r\nexport const setUsersTotalCount = (totalUsersCount) => ({\r\n\ttype: SET_TOTAL_USERS_COUNT,\r\n\tcount: totalUsersCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n\ttype: TOGGLE_IS_FETCHING,\r\n\tisFetching,\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n\ttype: TOGGLE_IS_FOLLOWING,\r\n\tisFetching,\r\n\tuserId\r\n});\r\n//thunk\r\nexport const getUsersThunkCreator = (page, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleIsFetching(true));\r\n\t\tdispatch(setCurrentPage(page));\r\n\r\n\t\tconst data = await usersAPI.getUsers(page, pageSize)\r\n\r\n\t\tdispatch(toggleIsFetching(false));\r\n\t\tdispatch(setUsers(data.items));\r\n\t\tdispatch(setUsersTotalCount(data.totalCount));\r\n\r\n\t}\r\n}\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true, id));\r\n\r\n\tconst response = await apiMethod(id)\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(id))\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, id));\r\n}\r\n\r\nexport const follow = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet apiMethod = usersAPI.follow.bind(usersAPI);\r\n\t\tlet actionCreator = followSuccess;\r\n\t\tfollowUnfollowFlow(dispatch, id, apiMethod, actionCreator);\r\n\r\n\t}\r\n}\r\n\r\nexport const unfollow = (id) => {\r\n\treturn async (dispatch) => {\r\n\t\tlet apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n\t\tlet actionCreator = unfollowSuccess;\r\n\t\tfollowUnfollowFlow(dispatch, id, apiMethod, actionCreator);\r\n\r\n\t}\r\n}\r\n\r\n\r\nexport default usersReducer;\r\n","import React, {useState} from \"react\";\r\nimport styles from \"./Pagination.module.css\";\r\n\r\n\r\n\r\n\r\n\r\nlet Pagination = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 15}) => {\r\n\tlet pageCounter = Math.ceil(totalItemsCount / pageSize);\r\n\tlet pages = [];\r\n\tfor (let i = 1; i <= pageCounter; i++) {\r\n\t\tpages.push(i)\r\n\t}\r\n\r\n\tlet portionCount = Math.ceil(pageCounter / portionSize);\r\n\tlet [portionNumber, setPortionNumber] = useState(1);\r\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n\tlet rightPortionPageNumber = (portionNumber * portionSize)\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{portionNumber > 1 &&\r\n\t\t\t<button onClick={() => {\r\n\t\t\t\tsetPortionNumber(portionNumber - 1)\r\n\t\t\t}}>PREV</button>}\r\n\r\n\t\t\t{pages\r\n\t\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t\t.map(p => {\r\n\t\t\t\t\treturn <span className={currentPage === p ? styles.selectedPage : styles.pageNumber}\r\n\t\t\t\t\t             style={{cursor: 'pointer', marginTop: 33, padding: 10}}\r\n\t\t\t\t\t             onClick={(e) => {\r\n\t\t\t\t\t\t             onPageChanged(p)\r\n\t\t\t\t\t             }}>{p}</span>\r\n\t\t\t\t})}\r\n\t\t\t{portionCount > portionNumber &&\r\n\t\t\t<button onClick={() => {\r\n\t\t\t\tsetPortionNumber(portionNumber + 1)\r\n\t\t\t}}>NEXT</button>}\r\n\r\n\t\t</div>)\r\n}\r\nexport default Pagination;","export default __webpack_public_path__ + \"static/media/user.9cd48d3d.png\";","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport usersPhoto from \"../../img/user.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n\r\nlet User = ({user,followingInProgress, unfollow, follow}) => {\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n                <span>\r\n                  <div>\r\n                      <NavLink to={'/profile/' + user.id}>\r\n                      <img src={user.photos.small != null ? user.photos.small : usersPhoto}\r\n                           className={styles.userPhoto}/>\r\n                          </NavLink>\r\n                  </div>\r\n                  <div>\r\n                    {user.followed\r\n\t                    ? <button disabled={followingInProgress\r\n\t\t                      .some(id => id === user.id)}\r\n\t                              onClick={() => {unfollow(user.id)}}>Unfollow </button>\r\n\r\n\t                    : <button disabled={followingInProgress\r\n\t\t                      .some(id => id === user.id)} onClick={() => {follow(user.id)}}>Follow</button>}\r\n\r\n\r\n                            </div>\r\n                  </span>\r\n\t\t\t\t\t\t\t\t<span>\r\n                  <span>\r\n                                <div>{user.name} </div>\r\n                                <div>{user.status}</div>\r\n                            </span>\r\n                  <span>\r\n                                <div>{'location.country'} </div>\r\n                                <div>{'location.city'} </div>\r\n                            </span>\r\n                  </span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\r\n\r\n\r\n}\r\nexport default User;","import React from \"react\";\r\nimport Pagination from \"../common/Pagination/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props}) => {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div style={{textOverflow: 'ellipsis', overflow: 'hidden', height: 40}}>\r\n\r\n\t\t\t\t<Pagination currentPage={currentPage} onPageChanged={onPageChanged}\r\n\t\t\t\t            totalItemsCount={totalUsersCount} pageSize={pageSize}\r\n\r\n\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tusers.map(u => <User user={u}\r\n\t\t\t\t                     followingInProgress={props.followingInProgress}\r\n\t\t\t\t                     key={u.id}\r\n\t\t\t\t                     unfollow={props.unfollow}\r\n\t\t\t\t                     follow={props.follow}\r\n\r\n\t\t\t\t/>)\r\n\t\t\t}\r\n\r\n\t\t</div>)\r\n\r\n\r\n}\r\nexport default Users;","export const getUsers = (state) => {\r\n\treturn state.usersPage.users;\r\n}\r\nexport const getPageSize = (state) => {\r\n\treturn state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n\treturn state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n\treturn state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n\treturn state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n\treturn state.usersPage.followingInProgress;\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n  follow,\r\n  setCurrentPage,\r\n  unfollow,\r\n  toggleFollowingProgress, getUsersThunkCreator\r\n} from \"../../redux/users-reducer\";\r\n\r\n\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\n\r\n\r\n class UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n      let {currentPage,pageSize} = this.props\r\n      this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n      let {pageSize} = this.props\r\n      this.props.getUsers(pageNumber, pageSize);\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/>: null}\r\n\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n}\r\n\r\n export default compose(\r\n  connect(mapStateToProps, {\r\n  follow,\r\n  unfollow,\r\n  setCurrentPage,\r\n  toggleFollowingProgress,\r\n  //thunk\r\n  getUsers:  getUsersThunkCreator}),\r\n)(UsersContainer)\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst  INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESSv';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n\r\n}\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({\r\n    type: INITIALIZED_SUCCESS,\r\n});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n      .then(() => {\r\n       dispatch(initializedSuccess());\r\n    });\r\n}\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport  thunkMiddleware from \"redux-thunk\"\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  messagePage: dialogsReducer,\r\n  // siderbar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\n\r\n//redux dev-tools\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(reducers, composeEnhancers((\r\n  applyMiddleware(thunkMiddleware)\r\n))\r\n)\r\nexport default store;","import React, {Profiler} from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\n\n\n\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\n// import ProfileContainer from \"./components/Profile/ProfileInfo/ProfileContainer\";\n\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport Preloader from \"./components/common/Preloader/preloader\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport store from \"./redux/redux-store\";\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileInfo/ProfileContainer'));\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp();\n\t}\n\n\trender() {\n\t\tif (!this.props.initialized) {\n\t\t\treturn <Preloader/>\n\t\t}\n\n\t\treturn (\n\n\t\t\t<div className=\"app-wrapper\">\n\t\t\t\t<HeaderContainer/>\n\t\t\t\t<Navbar/>\n\t\t\t\t<div className='app-wrapper-content'>\n\n\t\t\t\t\t<React.Suspense fallback={<Preloader/>}>\n\t\t\t\t\t\t<Route path='/dialogs' render={() => <DialogsContainer/>}/>\n\t\t\t\t\t\t\t<Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n\n\t\t\t\t\t</React.Suspense>\n\n\t\t\t\t\t<Route path='/users'\n\t\t\t\t\t       render={() => <UsersContainer/>}/>\n\t\t\t\t\t<Route path='/login'\n\t\t\t\t\t       render={() => <Login/>}/>\n\n\t\t\t\t\t{/*<Route path='/news'/>*/}\n\t\t\t\t\t{/*<Route path='/music'/>*/}\n\t\t\t\t\t{/*<Route path='/settings'/>*/}\n\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.app.initialized\n})\nlet AppContainer =  compose(\n\twithRouter,\n\tconnect(mapStateToProps, {initializeApp}))(App);\n\nconst SamuraiJSApp = (props) => {\nreturn\t<BrowserRouter>\n\t\t<Provider store={store}>\n\t\t\t<AppContainer />\n\t\t</Provider>\n\t</BrowserRouter>\n}\nexport default SamuraiJSApp;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport SamuraiJSApp from \"./App\";\n\n\n\n\nReactDOM.render(\n  <SamuraiJSApp/>,\n    document.getElementById(\"root\")\n);\n\n\n\n\n\n","import React from \"react\";\r\nimport styles from \"./Preloader/FormsControl.module.css\"\r\nimport {Field} from \"redux-form\";\r\n\r\n\r\nconst FromControl =({input,  meta: {touched, error},children}) => {\r\n\tconst hasError = touched && error\r\n\treturn (\r\n\t\t<div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t\t{ hasError && <span>{error}</span>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport const Textarea = (props) => {\r\n\tconst {input, meta,child,...restProps} = props;\r\n\treturn (\r\n\t\t<FromControl {...props}><textarea {...input} {...restProps}></textarea></FromControl>\r\n\t)\r\n}\r\n\r\nexport const Input = (props) => {\r\n\tconst {input, meta,child,...restProps} = props;\r\n\treturn (\r\n\t\t<FromControl {...props}><input {...input} {...restProps}></input></FromControl>\r\n\t)\r\n}\r\nexport const CreateField = (\r\n\tplaceholder,\r\n\tname,\r\n\tvalidate,\r\n\tcomponent,\r\n\tprops = {},\r\n\ttext = \"\"\r\n) => (\r\n\t<div>\r\n\t<Field placeholder={placeholder}\r\n\t       name={name}\r\n\t       validate={validate}\r\n\t       component={component}\r\n\t       {...props}\r\n\t/> {text}\r\n\t</div>\r\n)","export default __webpack_public_path__ + \"static/media/preloader.c665d296.svg\";","import preloader from \"../../../img/preloader.svg\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <img src={preloader} />\r\n    )\r\n}\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__2R5H1\",\"error\":\"FormsControl_error__38ckv\",\"formSummaryError\":\"FormsControl_formSummaryError__1e0-U\"};","\r\n\r\nexport const required = value => {\r\n\tif(value) {\r\n\t\treturn undefined\r\n\t}\r\n\treturn \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator =  (maxLength) => value => {\r\n\tif( value.length > maxLength) {\r\n\t\treturn `Max length is ${maxLength} symbols`\r\n\t}\r\n\treturn undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3fG4-\",\"loginBlock\":\"Header_loginBlock__qOm-P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Pagination_selectedPage__1kCuB\",\"pageNumber\":\"Pagination_pageNumber__2sViN\"};","import {profileApi, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USERS_PROFILE = \"SET_USERS_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst SET_POST_DELETE = \"SET_POST_DELETE\";\r\n\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{id: 1, message: \"Hi, how are you?\", likesCount: \"27\"},\r\n\t\t{id: 2, message: \"It's my first post\", likesCount: \"2\"},\r\n\t],\r\n\r\n\tprofile: null,\r\n\tstatus: ''\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 5,\r\n\t\t\t\tmessage: action.newPostText,\r\n\t\t\t\tlikesCount: 0,\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\tnewPostNext: ''\r\n\r\n\t\t\t};\r\n\t\t}\r\n\r\n\r\n\t\tcase SET_USERS_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_POST_DELETE: {\r\n\t\t\treturn {...state, posts: state.posts.filter(p => p.id != action.postId)}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({\r\n\ttype: ADD_POST,\r\n\tnewPostText\r\n});\r\nexport const deletePost = (postId) => ({\r\n\ttype: SET_POST_DELETE,\r\n\tpostId,\r\n});\r\n\r\nexport const setUsersProfile = (profile) => ({\r\n\ttype: SET_USERS_PROFILE,\r\n\tprofile,\r\n});\r\nexport const setStatus = (status) => ({\r\n\ttype: SET_STATUS,\r\n\tstatus,\r\n});\r\n\r\nexport const getUsersProfile = (userId) => async (dispatch) => {\r\nconst response = await\tusersAPI.getProfile(userId)\r\n\t\t\tdispatch(setUsersProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\nconst response = await\tprofileApi.getStatus(userId)\r\n\t\t\tdispatch(setStatus(response.data));\r\n\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => {\r\nconst response = await\tprofileApi.updateStatus(status)\r\n\t\t\tif (response.data.resultCode === 0) {\r\n\t\t\t\tdispatch(setStatus(status));\r\n\t\t\t}\r\n};\r\nexport default profileReducer\r\n"],"sourceRoot":""}